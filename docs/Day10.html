<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Day10</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Day10</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>General - Connect jolts/volts.</p><p>Part 1 - The trick here is to read the problem
 description carefully. You then realize that you
 can solve the problem by building the diffs between
 two consecutive numbers and just count the number of
 1 and 3 diffs. Multiply the number of 1s and 3s.</p><p>Part 2 - My first attempt ... failed. The idea was
 to build all possible combinations/arrangements and
 then just filter for the valid ones. That worked
 for the testcases, but failed (miserably) for the
 puzzle input (had to kill it after running it for
 an hour).</p><p>My second attempt goes about it differently. It builds
 a tree. It starts with the outlet (0) and then tries
 to find all adapters that are [1,2,3] jolts away from
 the current adapter until it finds the adapter that
 fits into the device. The solution are all paths in
 the tree, but (again) ... this takes too long.</p><p>My third attempt just counts the paths that I can build,
 but (you guessed it) ...</p><p>My last attempt was<em>is based on this thread - https:</em><em>tedn.ly</em>s5w.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Jolt">Jolt</a> = Int</li><li class="src short"><span class="keyword">data</span> <a href="#t:Node">Node</a> = <a href="#v:Node">Node</a> <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> [<a href="Day10.html#t:Node" title="Day10">Node</a>]</li><li class="src short"><a href="#v:input">input</a> :: String -&gt; [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]</li><li class="src short"><a href="#v:diffs">diffs</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [Int]</li><li class="src short"><a href="#v:part1">part1</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Int</li><li class="src short"><a href="#v:valid">valid</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Bool</li><li class="src short"><a href="#v:combinations">combinations</a> :: Int -&gt; [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]]</li><li class="src short"><a href="#v:arrangements">arrangements</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]]</li><li class="src short"><a href="#v:makeTree">makeTree</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a></li><li class="src short"><a href="#v:allPaths">allPaths</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]] -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]]</li><li class="src short"><a href="#v:countPaths">countPaths</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; Integer -&gt; Integer</li><li class="src short"><a href="#v:adjacent">adjacent</a> :: <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; [Int] -&gt; [[Int]] -&gt; [[Int]]</li><li class="src short"><a href="#v:part2-39-">part2'</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Int</li><li class="src short"><a href="#v:part2-39--39-">part2''</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Int</li><li class="src short"><a href="#v:part2-39--39--39-">part2'''</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Integer</li><li class="src short"><a href="#v:part2">part2</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Integer</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Jolt" class="def">Jolt</a> = Int <a href="#t:Jolt" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Node" class="def">Node</a> <a href="#t:Node" class="selflink">#</a></p><div class="doc"><p>The tree of Jolts</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Node" class="def">Node</a> <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> [<a href="Day10.html#t:Node" title="Day10">Node</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Node">Instances</h4><details id="i:Node" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Node:Eq:1"></span> Eq <a href="Day10.html#t:Node" title="Day10">Node</a></span> <a href="#t:Node" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Node:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Day10.html">Day10</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Node:Show:2"></span> Show <a href="Day10.html#t:Node" title="Day10">Node</a></span> <a href="#t:Node" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Node:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Day10.html">Day10</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Day10.html#t:Node" title="Day10">Node</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:input" class="def">input</a> :: String -&gt; [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] <a href="#v:input" class="selflink">#</a></p><div class="doc"><p>Read the input file.</p></div></div><div class="top"><p class="src"><a id="v:diffs" class="def">diffs</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [Int] <a href="#v:diffs" class="selflink">#</a></p><div class="doc"><p>Returns the diffs between two consecutive jolts.</p></div></div><div class="top"><p class="src"><a id="v:part1" class="def">part1</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Int <a href="#v:part1" class="selflink">#</a></p><div class="doc"><p>Solve part1.</p></div></div><div class="top"><p class="src"><a id="v:valid" class="def">valid</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Bool <a href="#v:valid" class="selflink">#</a></p><div class="doc"><p>A list of jolts is valid, if they are never more that 3 appart.</p></div></div><div class="top"><p class="src"><a id="v:combinations" class="def">combinations</a> :: Int -&gt; [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]] <a href="#v:combinations" class="selflink">#</a></p><div class="doc"><p>Build all combinations of jolts.</p></div></div><div class="top"><p class="src"><a id="v:arrangements" class="def">arrangements</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]] <a href="#v:arrangements" class="selflink">#</a></p><div class="doc"><p>Build all possible arrangements.</p></div></div><div class="top"><p class="src"><a id="v:makeTree" class="def">makeTree</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a> <a href="#v:makeTree" class="selflink">#</a></p><div class="doc"><p>Build a tree (from the given list of jolts) and return the root of the tree.</p></div></div><div class="top"><p class="src"><a id="v:allPaths" class="def">allPaths</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]] -&gt; <a href="Day10.html#t:Node" title="Day10">Node</a> -&gt; [[<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>]] <a href="#v:allPaths" class="selflink">#</a></p><div class="doc"><p>Build all possible paths (from the given node).</p></div></div><div class="top"><p class="src"><a id="v:countPaths" class="def">countPaths</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; Integer -&gt; Integer <a href="#v:countPaths" class="selflink">#</a></p><div class="doc"><p>Count the paths that fit into the device.</p></div></div><div class="top"><p class="src"><a id="v:adjacent" class="def">adjacent</a> :: <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; <a href="Day10.html#t:Jolt" title="Day10">Jolt</a> -&gt; [Int] -&gt; [[Int]] -&gt; [[Int]] <a href="#v:adjacent" class="selflink">#</a></p><div class="doc"><p>Built combination of paths based on adjacent jolts being equal.</p></div></div><div class="top"><p class="src"><a id="v:part2-39-" class="def">part2'</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Int <a href="#v:part2-39-" class="selflink">#</a></p><div class="doc"><p>Solve part2 (based on counting the arrangements).</p></div></div><div class="top"><p class="src"><a id="v:part2-39--39-" class="def">part2''</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Int <a href="#v:part2-39--39-" class="selflink">#</a></p><div class="doc"><p>Solve part2 (based on counting all paths in the tree).</p></div></div><div class="top"><p class="src"><a id="v:part2-39--39--39-" class="def">part2'''</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Integer <a href="#v:part2-39--39--39-" class="selflink">#</a></p><div class="doc"><p>Solve part2 (with an optimized version of part2'')</p></div></div><div class="top"><p class="src"><a id="v:part2" class="def">part2</a> :: [<a href="Day10.html#t:Jolt" title="Day10">Jolt</a>] -&gt; Integer <a href="#v:part2" class="selflink">#</a></p><div class="doc"><p>Solve part2.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>