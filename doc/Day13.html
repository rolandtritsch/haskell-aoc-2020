<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Day13</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Day13</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>General - This is a reading problem. Reading it fast once,
 you start to think about lazy list evaluations. Reading it
 a second time slow(er), you realize that there is an easy
 way to calculate the solution, because the minutes you
 need to wait is the remainder of the departure time by
 the bus id.</p><p>Part 1 - Find the minimum and calculate the solution.</p><p>Part 2 - We have a system of equations along the lines of ...</p><p>mod x b0 = 0
 mod x+1 b1 = 0
 ...
 mod x+n bn = 0</p><p>We are looking for the smallest x to make this system work.</p><p>The first idea would be to try all numbers until all equations
 work, but ... this will take a long time. An optimization would
 be to only try the numbers that we get from the first equation.</p><p>The next optimisation is to pick the equation that is most
 selective (the max of all bus ids).</p><p>But (not too surprsingly) this works for the testcases, but not
 to solve the problem.</p><p>Next step is to realize that the system above can be solved
 using the Chinese Remainder Algorithm. But for that we need
 to restructure the system to ...</p><p>mod x b0 = b0-0
 mod x b1 = b1-1
 ...
 mod x bn = bn-n</p><p>(Conveniently) The input for the chineseRemainder is the
 list of [(b0, b0-0), (b1, b1-1), ...] pairs.</p><p>But then you realize that you found a solution for the system,
 but not the smallest one. You can get the smallest solution
 by caluculating the mod of the chineseRemainder and the product
 of all moduli. </p><p>That's it.</p></div></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Schedule" class="def">Schedule</a> <a href="#t:Schedule" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Schedule" class="def">Schedule</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:departure" class="def">departure</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:busses" class="def">busses</a> :: [Int]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:busses-39-" class="def">busses'</a> :: [(Integer, Integer)]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:input" class="def">input</a> :: String -&gt; <a href="Day13.html#t:Schedule" title="Day13">Schedule</a> <a href="#v:input" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:part1" class="def">part1</a> :: <a href="Day13.html#t:Schedule" title="Day13">Schedule</a> -&gt; Int <a href="#v:part1" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:part2-39-" class="def">part2'</a> :: <a href="Day13.html#t:Schedule" title="Day13">Schedule</a> -&gt; Integer <a href="#v:part2-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:part2" class="def">part2</a> :: <a href="Day13.html#t:Schedule" title="Day13">Schedule</a> -&gt; Integer <a href="#v:part2" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>